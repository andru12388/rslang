(()=>{"use strict";var e,t,s,a,n,i,r={607:(e,t,s)=>{s.a(e,(async(e,t)=>{try{var a=s(329),n=s(894),i=s(438),r=s(815),o=s(963);(new i.Z).preloaderApp();const e=new a.Z;await e.render(),(new n.Z).listenerAll(),(new r.Z).upHeader(),(new o.Z).startAllListenerGames(),t()}catch(e){t(e)}}),1)},963:(e,t,s)=>{s.d(t,{Z:()=>m});var a=s(329),n=s(720),i=s(602);const r=new(s(34).Z);var o=s(559);const c=class{constructor(e,t,s,a){this.image=a,this.word=e,this.wordTranslate=t,this.audio=s,this.main=document.querySelector(".main")}createRoundGameAudio(){this.main.innerHTML="";const e=`\n      <div class="wrapper-games">\n        <div class="btn-nav-round">\n          <div class="game-audio-close"></div>\n          <div class="game-audio-fullscreen"></div>\n        </div>\n        <div class="game-audio-call">\n          <div class="box-correct-answer"></div>\n          <button class="icon-mute" data-source="${this.audio}"></button>\n          <div class="block-answer-game"></div>\n          <div class="block-btn-game-audio">\n            <button class="button-game btn-not-know">Не знаю</button>\n            <button class="button-game btn-next active-hidden">Дальше</button>\n          </div>\n        </div>\n      </div>\n    `;this.main.insertAdjacentHTML("beforeend",e)}createCorrectAnswer(){const e=document.querySelector(".box-correct-answer");e.innerHTML="";const t=`\n      <div class="card-words">\n        <img class="card-words-img" src="https://rslang-bak.herokuapp.com/${this.image}" alt="${this.wordTranslate}"></img>\n        <p class="word">${this.word}</p>\n        <div class="block-words">\n          <p class="word-translate">${this.wordTranslate}</p>\n          <button class="icon-audio-game" data-source="${this.audio}"></button>\n        </div>\n      </div>\n    `;e.insertAdjacentHTML("beforeend",t)}startGameSprint(){this.main.innerHTML="";const e=`\n      <div class="wrapper-games">\n        <div class="btn-nav-round">\n          <div class="game-sprint-close game-audio-close"></div>\n          <div class="game-audio-fullscreen"></div>\n        </div>\n        <div class="game-sprint">\n          <div class="timer-game"><span class="time">60</span></div>\n          <div class="block-score">\n            <div class="point-word"><b>+</b> <span class="quality-points">10</span> очков за слово</div>\n            <div class="total-point">Итого: <span class="total-score">0</span></div>\n          </div>\n          <div class="card-game-sprint">\n            <div class="pagination-game-sprint">\n              <div class="pagination-item"></div>\n              <div class="pagination-item"></div>\n              <div class="pagination-item"></div>\n            </div>\n            <div class="question-box">\n              <p class="word-game">${this.word}</p>\n              <p class="word-translate-game">${this.wordTranslate}</p>\n            </div>\n            <div class="block-btn-game-sprint">\n              <button class="button-game-sprint btn-wrong">Неверно</button>\n              <button class="button-game-sprint btn-correct">Верно</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;this.main.insertAdjacentHTML("beforeend",e)}createRoundGameSprint(){const e=document.querySelector(".question-box");e.innerHTML="";const t=`\n      <p class="word-game">${this.word}</p>\n      <p class="word-translate-game">${this.wordTranslate}</p>\n    `;e.insertAdjacentHTML("beforeend",t)}},d=new a.Z,l=new i.Z,u=new class{constructor(){this.audioLevelUp=new Audio}async getGamesWordsFromDifficultyPage(e){"game-sprint"===e&&(n.Qc.gameSprint=[...Object.values(await r.getDifficultWordsSignupUser(n.wr)).map((e=>e.paginatedResults)).flat()],n.Qc.arrAnswerGameSprint=[...n.Qc.gameSprint.map((e=>e.wordTranslate))]),"game-audio"===e&&(n.Qc.gameAudio=[...Object.values(await r.getDifficultWordsSignupUser(n.wr)).map((e=>e.paginatedResults)).flat()],n.Qc.arrAnswerGameAudio=[...n.Qc.gameAudio.map((e=>e.wordTranslate))])}async getGamesWordsSprint(e,t){n.Qc.gameSprint=[...Object.values(await r.getTextbookWords(e,t))];let s=t;for(;n.Qc.gameSprint.length<80;){s++,s>29&&(s=0);const t=[...Object.values(await r.getTextbookWords(e,s))];n.Qc.gameSprint=[...n.Qc.gameSprint,...t]}n.Qc.arrAnswerGameSprint=[...n.Qc.gameSprint.map((e=>e.wordTranslate))]}async getGameSprintWords(e,t){n.Qc.gameSprint=[...Object.values(await r.getTextbookWords(e,t))],n.Qc.arrAnswerGameSprint=[...n.Qc.gameSprint.map((e=>e.wordTranslate))]}async getGamesWordsSprintTextbookSignupUser(e,t){const{groupWords:s}=t;let{pageWords:a}=t;for(n.Qc.gameSprint=[...Object.values(await r.getGameTextbookWordsSignupUser(e,t)).map((e=>e.paginatedResults)).flat()];n.Qc.gameSprint.length<20&&0!==a;){a--;const t=20-n.Qc.gameSprint.length,i={groupWords:s,pageWords:a},o=[...Object.values(await r.getGameTextbookWordsSignupUser(e,i)).map((e=>e.paginatedResults)).flat()];o.length>t?n.Qc.gameSprint=[...n.Qc.gameSprint,...o.slice(0,t)]:n.Qc.gameSprint=[...n.Qc.gameSprint,...o]}n.Qc.arrAnswerGameSprint=[...n.Qc.gameSprint.map((e=>e.wordTranslate))]}getRandomArrAnswerSprint(e){return[...n.Qc.arrAnswerGameSprint.filter((t=>t!==e)).sort((()=>Math.random()-Math.random())).slice(0,1),e].sort((()=>Math.random()-.5))}factorPointsGameSprint({countCorrectAnswerInRowSprint:e}){const t=document.querySelector(".quality-points");this.audioLevelUp.src="./assets/audio/level-up.mp3",this.audioLevelUp.volume=.3;const s=Number(t.textContent);switch(e){case 0:t.textContent="10";break;case 4:case 8:case 12:t.textContent=""+2*s,this.audioLevelUp.play()}}plusPointsInTotalScoreSprint(){const e=document.querySelector(".total-score"),t=document.querySelector(".quality-points"),s=Number(e.textContent),a=Number(t.textContent);e.textContent=`${s+a}`}resetPaginationGameSprint(){const e=document.querySelectorAll(".pagination-item");if(n.Qc.countPaginationSprint>2)return n.Qc.countPaginationSprint=0,e.forEach((e=>e.style.background="none")),!1;e[n.Qc.countPaginationSprint].style.background="green",n.Qc.countPaginationSprint++}async getGamesWords(e,t){n.Qc.gameAudio=[...Object.values(await r.getTextbookWords(e,t))],n.Qc.arrAnswerGameAudio=[...n.Qc.gameAudio.map((e=>e.wordTranslate))]}async getGamesWordsTextbookSignupUser(e,t){const{groupWords:s}=t;let{pageWords:a}=t;for(n.Qc.gameAudio=[...Object.values(await r.getGameTextbookWordsSignupUser(e,t)).map((e=>e.paginatedResults)).flat()];n.Qc.gameAudio.length<20&&0!==a;){a--;const t=20-n.Qc.gameAudio.length,i={groupWords:s,pageWords:a},o=[...Object.values(await r.getGameTextbookWordsSignupUser(e,i)).map((e=>e.paginatedResults)).flat()];o.length>t?n.Qc.gameAudio=[...n.Qc.gameAudio,...o.slice(0,t)]:n.Qc.gameAudio=[...n.Qc.gameAudio,...o]}n.Qc.arrAnswerGameAudio=[...n.Qc.gameAudio.map((e=>e.wordTranslate))]}getRandom(e=0,t=29){return Math.floor(Math.random()*(t-e+1)+e)}getRandomArrAnswer(e){return[...n.Qc.arrAnswerGameAudio.filter((t=>t!==e)).sort((()=>Math.random()-Math.random())).slice(0,4),e].sort((()=>Math.random()-.5))}selectCorrectId({gameAudio:e,gameSprint:t,countGame:s}){let a=null;a="game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage?t[s]:e[s];let i="";return i=void 0===a._id?a.id:a._id,i}async selectRequestGameAudio(){"difficult-words"===n.tO.currentPage?await this.getGamesWordsFromDifficultyPage("game-audio"):n.tO.isSignupUser?await this.getGamesWordsTextbookSignupUser(n.wr,n.tO):await this.getGamesWords(n.tO.groupWords,n.tO.pageWords)}async selectRequestGameSprint(){"difficult-words"===n.tO.currentPage?await this.getGamesWordsFromDifficultyPage("game-sprint"):n.tO.isSignupUser?await this.getGamesWordsSprintTextbookSignupUser(n.wr,n.tO):await this.getGameSprintWords(n.tO.groupWords,n.tO.pageWords)}async saveInDataBaseResultCorrectGames(){const e=this.selectCorrectId(n.Qc);if(n.tO.isSignupUser)try{const t=await this.saveResponseGameWordInStore(e);await this.actionOnTrueRequestCorrectResult(t,e)}catch(t){await this.actionOnFalseRequestCorrectResult(e)}}async saveInDataBaseResultWrongGames(){const e=this.selectCorrectId(n.Qc);if(n.tO.isSignupUser)try{const t=await this.saveResponseGameWordInStore(e);await this.actionOnTrueRequestWrongResult(t,e)}catch(t){await this.actionOnFalseRequestWrongResult(e)}}createResultTrueAnswer({gameAudio:e,gameSprint:t,countGame:s,trueAnswerGame:a}){const i=document.querySelector(".block-correct");let r=null;r="game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage?t[s]:e[s];const o=r.audio,c=a[this.selectCorrectId(n.Qc)],d=document.createElement("div");d.classList.add("answer-correct-item");const l=document.createElement("span");l.classList.add("icon-audio-popup"),l.setAttribute("data-source",`${o}`),d.append(l);const u=document.createElement("span");u.classList.add("translate-word-correct"),u.textContent=`${c}`,d.append(u),i.append(d)}createResultFalseAnswer({gameAudio:e,gameSprint:t,countGame:s,falseAnswerGame:a}){const i=document.querySelector(".block-wrong");let r=null;r="game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage?t[s]:e[s];const o=r.audio,c=a[this.selectCorrectId(n.Qc)],d=document.createElement("div");d.classList.add("answer-wrong-item");const l=document.createElement("span");l.classList.add("icon-audio-popup"),l.setAttribute("data-source",`${o}`),d.append(l);const u=document.createElement("span");u.classList.add("translate-word-wrong"),u.textContent=`${c}`,d.append(u),i.append(d)}async saveResponseGameWordInStore(e){const t=await r.getGameWord(n.wr,e);return{gamesAnswer:t.optional.gamesAnswer,difficultyWord:t.difficulty}}async actionOnTrueRequestWrongResult(e,t){let{difficultyWord:s}=e;const{gamesAnswer:a}=e;"easy"===s&&(s="normal"),a.wrong++,await r.updateGameWords(n.wr,a,s,t)}async actionOnFalseRequestWrongResult(e){const t={correct:0,wrong:0};t.wrong++,await r.createGameWords(n.wr,t,"normal",e)}async actionOnTrueRequestCorrectResult(e,t){let{difficultyWord:s}=e;const{gamesAnswer:a}=e;a.correct++;const i=a.correct-a.wrong;i>=3&&"hard"!==s&&(s="easy",n.Qc.learnWordsInGames++),i>=5&&"hard"===s&&(s="easy",n.Qc.learnWordsInGames++),await r.updateGameWords(n.wr,a,s,t)}async actionOnFalseRequestCorrectResult(e){const t={correct:0,wrong:0};t.correct++,await r.createGameWords(n.wr,t,"normal",e)}},p=new o.Z,m=class{constructor(){this.linkGameAudio=document.querySelector("#link-game-audio"),this.linkGameSprint=document.querySelector("#link-game-sprint"),this.main=document.querySelector(".main"),this.footer=document.querySelector(".footer"),this.wrapper=document.querySelector(".wrapper"),this.menuBurg=document.querySelector(".menu-btn"),this.logoLinkHome=document.querySelector(".logo"),this.numberWrong=document.querySelector(".number-wrong"),this.numberCorrect=document.querySelector(".number-correct"),this.buttonExitPopupGame=document.querySelector(".button-exit"),this.btnExitPopupGameFromTextbook=document.querySelector(".button-exit-from-textbook"),this.buttonRepeatPopupGame=document.querySelector(".button-repeat"),this.btnRepeatPopupGameFromTextbook=document.querySelector(".button-repeat-from-textbook"),this.popupResultGame=document.querySelector(".popup-result-game"),this.popupBlockCorrect=document.querySelector(".block-correct"),this.popupBlockWrong=document.querySelector(".block-wrong"),this.linkTextbook=document.querySelector("#link-textbook"),this.header=document.querySelector(".header"),this.resultGameSprint=document.querySelector(".result-game-sprint"),this.audioCorrect=new Audio,this.audioWrong=new Audio,this.interval=null}async cancelRoundGameSprint(){const e=document.querySelector(".total-score").textContent;this.resultGameSprint.textContent=`- ${e} очков`,clearInterval(this.interval),await this.cancelAllRoundsGame(n.Qc),this.playAudioResultGameAudio(),this.exitPopupGame(),this.exitPopupGameFromTextbook(),this.repeatPopupGameAudio(),this.repeatPopupGameFromTextbook()}timer(){const e=document.querySelector(".time");let t=59;this.interval=setInterval((async()=>{e.textContent=`${t}`,t--,-1===t&&(clearInterval(this.interval),await this.cancelRoundGameSprint())}),1e3)}startRoundGameSprint({currentWordTranslate:e,currentWord:t}){n.Qc.randomWord=u.getRandomArrAnswerSprint(e)[u.getRandom(0,1)],new c(t,n.Qc.randomWord).startGameSprint(),this.timer(),this.selectAnswerGameSprint(),this.exitRoundGame()}async actionOnWrongAnswerSprint({currentWordTranslate:e,currentWord:t}){const s=document.querySelectorAll(".pagination-item");n.Qc.falseAnswerGame[u.selectCorrectId(n.Qc)]=`${t} - ${e}`,u.createResultFalseAnswer(n.Qc),this.installPathsAndVolumeAudio(),this.audioWrong.play(),n.Qc.longSeriesAnswer.push(n.Qc.countCorrectAnswerInRowSprint),n.Qc.countCorrectAnswerInRowSprint=0,n.Qc.countPaginationSprint=0,u.factorPointsGameSprint(n.Qc),s.forEach((e=>e.style.background="none")),await u.saveInDataBaseResultWrongGames(),n.Qc.countGame++,n.Qc.countGame>n.Qc.gameSprint.length-1?await this.cancelRoundGameSprint():(this.saveDataRoundInStoreGameRound(),n.Qc.randomWord=u.getRandomArrAnswerSprint(n.Qc.currentWordTranslate)[u.getRandom(0,1)],new c(n.Qc.currentWord,n.Qc.randomWord).createRoundGameSprint())}async actionOnCorrectAnswerSprint({currentWordTranslate:e,currentWord:t}){n.Qc.trueAnswerGame[u.selectCorrectId(n.Qc)]=`${t} - ${e}`,u.createResultTrueAnswer(n.Qc),this.installPathsAndVolumeAudio(),this.audioCorrect.play(),n.Qc.countCorrectAnswerInRowSprint++,u.factorPointsGameSprint(n.Qc),u.plusPointsInTotalScoreSprint(),u.resetPaginationGameSprint(),await u.saveInDataBaseResultCorrectGames(),n.Qc.countGame++,n.Qc.countGame>n.Qc.gameSprint.length-1?await this.cancelRoundGameSprint():(this.saveDataRoundInStoreGameRound(),n.Qc.randomWord=u.getRandomArrAnswerSprint(n.Qc.currentWordTranslate)[u.getRandom(0,1)],new c(n.Qc.currentWord,n.Qc.randomWord).createRoundGameSprint())}selectAnswerGameSprint(){document.querySelector(".block-btn-game-sprint").addEventListener("click",(async e=>{const t=e.target;t.classList.contains("btn-wrong")&&(n.Qc.currentWordTranslate===n.Qc.randomWord?await this.actionOnWrongAnswerSprint(n.Qc):await this.actionOnCorrectAnswerSprint(n.Qc)),t.classList.contains("btn-correct")&&(n.Qc.currentWordTranslate===n.Qc.randomWord?await this.actionOnCorrectAnswerSprint(n.Qc):await this.actionOnWrongAnswerSprint(n.Qc))}))}showGameSprint(){this.main.innerHTML="",this.main.insertAdjacentHTML("beforeend",d.renderGameSprint()),this.wrapper.style.backgroundImage='url("./assets/img/bg-game-sprint.webp")',document.querySelector(".popup-game-level").classList.remove("active-hidden"),this.footer.classList.add("active-hidden"),this.selectionLevelGame(),this.clickStartButton(),this.exitGames()}showGameSprintFromTextbook(){this.main.innerHTML="",this.main.insertAdjacentHTML("beforeend",d.renderGameSprintFromTextbook()),this.wrapper.style.backgroundImage='url("./assets/img/bg-game-sprint.webp")',document.querySelector(".popup-game-level").classList.remove("active-hidden"),this.footer.classList.add("active-hidden"),this.clickStartButton(),this.exitGames()}goToGameSprint(){this.linkGameSprint.addEventListener("click",(()=>{n.tO.currentPage="game-sprint",localStorage.setItem("general-info",JSON.stringify(n.tO)),this.hideShowToggleBtnPopupGame(),this.showGameSprint(),this.menuBurg.click()}))}goToGameSprintFromPageTextbook(){document.querySelector(".game-card-sprint").addEventListener("click",(async()=>{await u.selectRequestGameSprint(),n.tO.currentPage="game-sprint-from-textbook",localStorage.setItem("general-info",JSON.stringify(n.tO)),this.hideShowToggleBtnPopupGame(),this.footer.style.display="none",this.showGameSprintFromTextbook()}))}installPathsAndVolumeAudio(){this.audioCorrect.src="./assets/audio/correct-answer.mp3",this.audioWrong.src="./assets/audio/wrong-answer.mp3",this.audioCorrect.volume=.3,this.audioWrong.volume=.3}showGameAudio(){this.main.innerHTML="",this.main.insertAdjacentHTML("beforeend",d.renderGameAudioCall()),this.wrapper.style.backgroundImage='url("./assets/img/bg-game-audio.webp")',document.querySelector(".popup-game-level").classList.remove("active-hidden"),this.footer.classList.add("active-hidden"),this.selectionLevelGame(),this.clickStartButton(),this.exitGames()}showGameAudioFromTextbook(){this.main.innerHTML="",this.main.insertAdjacentHTML("beforeend",d.renderGameAudioCallFromTextbook()),this.wrapper.style.backgroundImage='url("./assets/img/bg-game-audio.webp")',document.querySelector(".popup-game-level").classList.remove("active-hidden"),this.footer.classList.add("active-hidden"),this.clickStartButton(),this.exitGames()}goToGameAudio(){this.linkGameAudio.addEventListener("click",(()=>{n.tO.currentPage="game-audio",localStorage.setItem("general-info",JSON.stringify(n.tO)),this.hideShowToggleBtnPopupGame(),this.showGameAudio(),this.menuBurg.click()}))}goToGameAudioFromPageTextbook(){document.querySelector(".game-card-audio-call").addEventListener("click",(async()=>{await u.selectRequestGameAudio(),n.tO.currentPage="game-audio-from-textbook",localStorage.setItem("general-info",JSON.stringify(n.tO)),this.hideShowToggleBtnPopupGame(),this.footer.style.display="none",this.showGameAudioFromTextbook()}))}hideShowToggleBtnPopupGame(){"game-audio"===n.tO.currentPage||"game-sprint"===n.tO.currentPage?(this.btnExitPopupGameFromTextbook.classList.add("active-hidden"),this.btnRepeatPopupGameFromTextbook.classList.add("active-hidden"),this.buttonRepeatPopupGame.classList.remove("active-hidden"),this.buttonExitPopupGame.classList.remove("active-hidden")):(this.btnExitPopupGameFromTextbook.classList.remove("active-hidden"),this.btnRepeatPopupGameFromTextbook.classList.remove("active-hidden"),this.buttonRepeatPopupGame.classList.add("active-hidden"),this.buttonExitPopupGame.classList.add("active-hidden"))}saveDataRoundInStoreGameRound(){if("game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage){const e=n.Qc.gameSprint[n.Qc.countGame];n.Qc.currentWord=e.word,n.Qc.currentWordTranslate=e.wordTranslate}else{const e=n.Qc.gameAudio[n.Qc.countGame];n.Qc.currentWord=e.word,n.Qc.currentWordTranslate=e.wordTranslate}}createBtnAnswer({currentWordTranslate:e}){const t=u.getRandomArrAnswer(e),s=document.querySelector(".block-answer-game");t.forEach(((e,t)=>{const a=document.createElement("button");a.classList.add("button-game","btn-answer-item",`answer-${t+1}`),a.textContent=`${t+1} ${e}`,s.append(a)}))}startRoundGameAudio({gameAudio:e,countGame:t}){const s=e[t];new c(s.word,s.wordTranslate,s.audio,s.image).createRoundGameAudio(),this.createBtnAnswer(n.Qc),this.playAudioGameAudio(),document.querySelector(".icon-mute").click(),this.exitRoundGame(),this.answerBtnNotKnow(),this.selectAnswer(n.Qc)}clickStartButton(){document.querySelector(".btn-start").addEventListener("click",(()=>{this.saveDataRoundInStoreGameRound(),"game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage?this.startRoundGameSprint(n.Qc):this.startRoundGameAudio(n.Qc)}))}checkDisabledAnswer({currentWordTranslate:e}){document.querySelectorAll(".btn-answer-item").forEach((t=>{t.disabled=!0,t.textContent.slice(2)===e&&(t.style.background="green")}))}hideShowBtnWhenAnswer(){const e=document.querySelector(".btn-not-know"),t=document.querySelector(".icon-mute"),s=document.querySelector(".btn-next");t.classList.add("active-hidden"),e.classList.add("active-hidden"),s.classList.remove("active-hidden")}answerBtnNotKnow(){document.querySelector(".btn-not-know").addEventListener("click",(()=>{this.actionOnWrongAnswer(n.Qc)}))}async cancelAllRoundsGame({falseAnswerGame:e,trueAnswerGame:t}){this.popupResultGame.classList.remove("active-hidden"),this.main.innerHTML="",this.numberWrong.textContent=String(Object.keys(e).length),this.numberCorrect.textContent=String(Object.keys(t).length),n.Qc.longSeriesAnswer.push(n.Qc.countCorrectAnswerInRowSprint),n.Qc.countGame=0,n.Qc.countCorrectAnswerInRowSprint=0,n.Qc.countPaginationSprint=0,n.tO.isSignupUser&&await p.saveStatisticInDataBase(),n.Qc.longSeriesAnswer.length=0,n.Qc.learnWordsInGames=0;for(const t in e)delete e[t];for(const e in t)delete t[e]}pressBtnNext(){document.querySelector(".btn-next").addEventListener("click",(async()=>{n.Qc.countGame++,n.Qc.countGame>n.Qc.gameAudio.length-1?(await this.cancelAllRoundsGame(n.Qc),this.playAudioResultGameAudio(),this.exitPopupGame(),this.exitPopupGameFromTextbook(),this.repeatPopupGameAudio(),this.repeatPopupGameFromTextbook()):(this.saveDataRoundInStoreGameRound(),this.startRoundGameAudio(n.Qc))}))}async actionOnCorrectAnswer({gameAudio:e,countGame:t,currentWordTranslate:s,currentWord:a}){const i=document.querySelectorAll(".btn-answer-item"),r=e[t],o=u.selectCorrectId(n.Qc);this.hideShowBtnWhenAnswer(),new c(r.word,r.wordTranslate,r.audio,r.image).createCorrectAnswer(),i.forEach((e=>e.disabled=!0)),n.Qc.trueAnswerGame[o]=`${a} - ${s}`,n.Qc.countCorrectAnswerInRowSprint++,u.createResultTrueAnswer(n.Qc),this.playAudioAnswerGameAudio(),this.pressBtnNext(),await u.saveInDataBaseResultCorrectGames()}async actionOnWrongAnswer({gameAudio:e,countGame:t,currentWordTranslate:s,currentWord:a}){const i=e[t],r=u.selectCorrectId(n.Qc);this.hideShowBtnWhenAnswer(),new c(i.word,i.wordTranslate,i.audio,i.image).createCorrectAnswer(),this.checkDisabledAnswer(n.Qc),n.Qc.falseAnswerGame[r]=`${a} - ${s}`,n.Qc.longSeriesAnswer.push(n.Qc.countCorrectAnswerInRowSprint),n.Qc.countCorrectAnswerInRowSprint=0,u.createResultFalseAnswer(n.Qc),this.playAudioAnswerGameAudio(),this.pressBtnNext(),await u.saveInDataBaseResultWrongGames()}selectAnswer({currentWordTranslate:e}){document.querySelector(".block-answer-game").addEventListener("click",(async t=>{const s=t.target;if(!s.classList.contains("btn-answer-item"))return!1;s.textContent.slice(2)===e?(s.style.background="green",this.installPathsAndVolumeAudio(),this.audioCorrect.play(),await this.actionOnCorrectAnswer(n.Qc)):(s.style.background="red",this.installPathsAndVolumeAudio(),this.audioWrong.play(),await this.actionOnWrongAnswer(n.Qc))}))}transitionTextbook(){this.linkTextbook.addEventListener("click",(async()=>{this.goToGameAudioFromPageTextbook(),this.goToGameSprintFromPageTextbook()}))}exitGames(){document.querySelector(".btn-cancel").addEventListener("click",(()=>{this.footer.style.display="",this.logoLinkHome.click()}))}exitRoundGame(){document.querySelector(".game-audio-close").addEventListener("click",(()=>{this.popupBlockCorrect.innerHTML="",this.popupBlockWrong.innerHTML="",n.Qc.countGame=0,n.Qc.countCorrectAnswerInRowSprint=0,n.Qc.countPaginationSprint=0,n.Qc.longSeriesAnswer.length=0,n.Qc.learnWordsInGames=0,clearInterval(this.interval);for(const e in n.Qc.falseAnswerGame)delete n.Qc.falseAnswerGame[e];for(const e in n.Qc.trueAnswerGame)delete n.Qc.trueAnswerGame[e];this.footer.style.display="",this.logoLinkHome.click()}))}fullscreenRoundGame(){document.addEventListener("click",(e=>{if(!e.target.classList.contains("game-audio-fullscreen"))return!1;document.fullscreenElement?(document.exitFullscreen(),this.header.style.display=""):(document.documentElement.requestFullscreen(),this.header.style.display="none")}))}exitPopupGame(){this.buttonExitPopupGame.addEventListener("click",(()=>{this.popupResultGame.classList.add("active-hidden"),this.popupBlockCorrect.innerHTML="",this.popupBlockWrong.innerHTML="",this.resultGameSprint.textContent="",this.footer.style.display="",this.logoLinkHome.click()}))}exitPopupGameFromTextbook(){this.btnExitPopupGameFromTextbook.addEventListener("click",(()=>{this.buttonExitPopupGame.click()}))}repeatPopupGameAudio(){this.buttonRepeatPopupGame.addEventListener("click",(()=>{this.popupResultGame.classList.add("active-hidden"),this.popupBlockCorrect.innerHTML="",this.popupBlockWrong.innerHTML="",this.resultGameSprint.textContent="","game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage?this.showGameSprint():this.showGameAudio()}))}repeatPopupGameFromTextbook(){this.btnRepeatPopupGameFromTextbook.addEventListener("click",(async()=>{this.popupResultGame.classList.add("active-hidden"),this.popupBlockCorrect.innerHTML="",this.popupBlockWrong.innerHTML="",this.resultGameSprint.textContent="","game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage?(this.showGameSprintFromTextbook(),await u.selectRequestGameSprint()):(this.showGameAudioFromTextbook(),await u.selectRequestGameAudio())}))}currentLevelGame(){document.querySelectorAll(".levels-game-item").forEach((e=>{e.dataset.group===String(n.tO.levelGame)?e.classList.add("active"):e.classList.remove("active")}))}selectionLevelGame(){const e=document.querySelector(".levels-game"),t=document.querySelector(".btn-start");e.addEventListener("click",(async e=>{const s=e.target;if(!s.classList.contains("levels-game-item"))return!1;n.tO.levelGame=Number(s.dataset.group),localStorage.setItem("general-info",JSON.stringify(n.tO)),this.currentLevelGame(),t.disabled=!1,"game-sprint"===n.tO.currentPage?await u.getGamesWordsSprint(n.tO.levelGame,u.getRandom()):await u.getGamesWords(n.tO.levelGame,u.getRandom())}))}keyDownHandler(){document.addEventListener("keydown",(e=>{if("wrapper-games"!==this.main.firstElementChild.className)return!1;if("KeyF"==e.code&&(document.fullscreenElement?(document.exitFullscreen(),this.header.style.display=""):(document.documentElement.requestFullscreen(),this.header.style.display="none")),"Space"==e.code){const t=document.querySelector(".btn-not-know");e.preventDefault(),t.click()}"Enter"==e.code&&document.querySelector(".btn-next").click(),"Digit1"==e.code&&document.querySelector(".answer-1").click(),"Digit2"==e.code&&document.querySelector(".answer-2").click(),"Digit3"==e.code&&document.querySelector(".answer-3").click(),"Digit4"==e.code&&document.querySelector(".answer-4").click(),"Digit5"==e.code&&document.querySelector(".answer-5").click(),"ArrowLeft"==e.code&&document.querySelector(".btn-wrong").click(),"ArrowRight"==e.code&&document.querySelector(".btn-correct").click()}))}playAudioGameAudio(){document.querySelector(".icon-mute").addEventListener("click",(e=>{const t=new Audio,s=e.target;t.volume=.5;const a=s.dataset.source;t.src=`https://rslang-bak.herokuapp.com/${a}`,t.play()}))}playAudioAnswerGameAudio(){const e=document.querySelector(".icon-audio-game"),t=document.querySelector(".icon-mute");e.addEventListener("click",(()=>{t.click()}))}playAudioResultGameAudio(){document.querySelectorAll(".icon-audio-popup").forEach((e=>{e.addEventListener("click",(e=>{const t=new Audio,s=e.target;t.volume=.5;const a=s.dataset.source;t.src=`https://rslang-bak.herokuapp.com/${a}`,t.play()}))}))}rebootPage(){window.addEventListener("load",(async()=>{if(localStorage.getItem("general-info"))switch(l.updateStorageGeneralInfo(),n.tO.currentPage){case"game-audio":this.showGameAudio(),this.transitionTextbook();break;case"game-sprint":this.showGameSprint();break;case"textbook":this.goToGameAudioFromPageTextbook(),this.goToGameSprintFromPageTextbook();break;case"game-audio-from-textbook":case"game-sprint-from-textbook":this.logoLinkHome.click()}}))}startAllListenerGames(){this.goToGameSprint(),this.goToGameAudio(),this.rebootPage(),this.transitionTextbook(),this.keyDownHandler(),this.fullscreenRoundGame(),this.installPathsAndVolumeAudio()}}},894:(e,t,s)=>{s.d(t,{Z:()=>g});var a=s(329),n=s(34),i=s(720),r=s(602),o=s(963),c=s(559);const d=new n.Z,l=new a.Z,u=new r.Z,p=new c.Z;class m extends o.Z{constructor(){super(...arguments),this.wrapper=document.querySelector(".wrapper"),this.main=document.querySelector(".main"),this.signIn=document.querySelector(".sign-in"),this.footer=document.querySelector(".footer"),this.popupSignIn=document.querySelector(".popup-sign-in"),this.popupAbout=document.querySelector(".popup-about"),this.popupStatistic=document.querySelector(".popup-statistic"),this.menuBurg=document.querySelector(".menu-btn"),this.menuHeader=document.querySelector(".menu-header"),this.subMenuList=document.querySelector(".submenu-list"),this.subMenuLink=document.querySelector(".sub-menu-link"),this.linkToRegistered=document.querySelector(".link-to-registered"),this.linkToSignup=document.querySelector(".link-to-signup"),this.formPopapRegistered=document.querySelector(".form-popap-registered"),this.formPopapSignup=document.querySelector(".form-popap-signup"),this.formCloseBtn=document.querySelector(".form-close-btn"),this.aboutCloseBtn=document.querySelector(".about-close-btn"),this.statisticCloseBtn=document.querySelector(".statistic-close-btn"),this.messageError=document.querySelector(".message-error"),this.messageErrorSignin=document.querySelector(".message-error-signin"),this.logOutBox=document.querySelector(".avatar-box"),this.logOutBtn=document.querySelector(".log-out"),this.linkTextbook=document.querySelector("#link-textbook"),this.linkHome=document.querySelector("#link-home"),this.linkTeam=document.querySelector("#link-team"),this.linkStatistic=document.querySelector("#link-statistic"),this.logoLinkHome=document.querySelector(".logo"),this.paginationTextbook=document.querySelector(".pagination-textbook"),this.wrapperCardWords=document.querySelector(".wrapper-card-words"),this.menuListItemDifficulty=document.querySelector(".menu-list-item-difficulty"),this.audio=new Audio}showMenu(){this.menuBurg.addEventListener("click",(()=>{this.menuBurg.classList.toggle("active"),this.menuHeader.classList.toggle("active"),this.wrapper.classList.toggle("active")}))}async outputTextbook(){i.tO.currentPage="textbook",localStorage.setItem("general-info",JSON.stringify(i.tO)),this.main.innerHTML=l.renderTextbook(),i.tO.isSignupUser?await u.getCardsWordsSignupUser(i.wr,i.tO):await u.getCardsWords(i.tO.groupWords,i.tO.pageWords),u.getPaginationCards(i.tO.pageWords),u.toggleDisableArrowPagination(),u.updateStorageGeneralInfo(),u.showHideBtnDifficulty(),u.showHideSectionDifficulty(),u.isAllLearnedWordAndDifficulty(),u.activeLevelWords(),this.addWordDifficult(),this.addLearnedWords(),this.transitionFromTextbookToHardWords()}async outputDifficultWordPage(){i.tO.currentPage="difficult-words",localStorage.setItem("general-info",JSON.stringify(i.tO)),this.main.innerHTML="",this.main.innerHTML=l.renderDifficultyPage(),await u.getAllDifficultyCardsWords(i.wr),this.transitionFromHardWordsToTextbook(),this.goToLearnedWordsPage(),u.removeClassActiveFromMain(),this.listenerGamesStart()}goToTextbook(){this.linkTextbook.addEventListener("click",(async()=>{await this.outputTextbook(),this.wrapper.style.backgroundImage="",this.footer.classList.remove("active-hidden"),this.menuBurg.click()}))}goToDifficultWordsPage(){this.menuListItemDifficulty.addEventListener("click",(async()=>{await this.outputDifficultWordPage(),this.wrapper.style.backgroundImage="",u.removeClassActiveFromMain(),u.showHideBtnIconInfoStat(),this.menuBurg.click()}))}goToLearnedWordsPage(){const e=document.querySelector(".link-study-word"),t=document.querySelector(".games-block");e.addEventListener("click",(async()=>{i.tO.currentPage="learned-words",localStorage.setItem("general-info",JSON.stringify(i.tO)),u.disabledLinkFromDifficultPage(),await u.getAllLearnedCardsWords(i.wr),t.classList.add("active-hidden"),this.returnDifficultPageFromLearnedPage(),u.isEmptyDifficultyWords(),this.deleteWordLearned(),u.showHideBtnIconInfoStat()}))}returnDifficultPageFromLearnedPage(){const e=document.querySelector(".back-to-difficult"),t=document.querySelector(".games-block");e.addEventListener("click",(async()=>{await this.outputDifficultWordPage(),t.classList.remove("active-hidden"),u.isEmptyDifficultyWords(),this.deleteWordDifficult(),u.showHideBtnIconInfoStat()}))}hideBlockGame(){document.querySelector(".games-block").classList.add("active-hidden")}navigationPageWords(){this.main.addEventListener("click",(async e=>{const t=e.target;if(t.classList.contains("next-arrow")&&(i.tO.pageWords++,await u.outputWordsAndPagination(),u.toggleDisableArrowPagination(),u.showHideBtnDifficulty(),this.addWordDifficult(),this.addLearnedWords()),t.classList.contains("prev-arrow")&&(i.tO.pageWords--,await u.outputWordsAndPagination(),u.toggleDisableArrowPagination(),u.showHideBtnDifficulty(),this.addWordDifficult(),this.addLearnedWords()),t.classList.contains("btn-pagination")){const e=t.dataset.page;i.tO.pageWords=+e,await u.outputWordsAndPagination(),u.toggleDisableArrowPagination(),u.showHideBtnDifficulty(),this.addWordDifficult(),this.addLearnedWords()}if(t.classList.contains("levels-item")){const e=t.dataset.group;i.tO.groupWords=+e,document.querySelectorAll(".levels-item").forEach((e=>e.classList.remove("active"))),t.classList.add("active"),await u.outputWordsAndPagination(),u.toggleDisableArrowPagination(),u.showHideBtnDifficulty(),this.addWordDifficult(),this.addLearnedWords()}}))}addWordDifficult(){document.querySelectorAll(".button-add-difficult").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.target,s=t.parentNode.parentNode,a=t.nextElementSibling;i.tO.wordId=t.dataset.idword,localStorage.setItem("general-info",JSON.stringify(i.tO)),u.updateStorageGeneralInfo();try{const e=await d.getWord(i.wr,i.tO);i.Qc.gamesAnswer=e.optional.gamesAnswer,t.classList.contains("active")?await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"normal"):await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"hard")}catch(e){await d.createWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"hard")}finally{a.classList.remove("active"),t.classList.toggle("active"),s.classList.contains("active-learnt")&&s.classList.remove("active-learnt"),s.classList.toggle("active-difficulty"),u.isAllLearnedWordAndDifficulty()}}))}))}deleteWordDifficult(){document.querySelectorAll(".button-delete-difficult").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.target;i.tO.wordId=t.dataset.idword,localStorage.setItem("general-info",JSON.stringify(i.tO)),u.updateStorageGeneralInfo();try{const e=await d.getWord(i.wr,i.tO);i.Qc.gamesAnswer=e.optional.gamesAnswer,await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"normal")}catch(e){await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"normal")}finally{await u.getAllDifficultyCardsWords(i.wr),u.isEmptyDifficultyWords(),this.deleteWordDifficult()}}))}))}deleteWordLearned(){document.querySelectorAll(".button-delete-study").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.target;i.tO.wordId=t.dataset.idword,localStorage.setItem("general-info",JSON.stringify(i.tO)),u.updateStorageGeneralInfo();try{const e=await d.getWord(i.wr,i.tO);i.Qc.gamesAnswer=e.optional.gamesAnswer,await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"normal")}catch(e){await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"normal")}finally{await u.getAllLearnedCardsWords(i.wr),u.isEmptyDifficultyWords(),this.deleteWordLearned()}}))}))}addLearnedWords(){document.querySelectorAll(".button-study-word").forEach((e=>{e.addEventListener("click",(async e=>{const t=e.target,s=t.parentNode.parentNode,a=t.previousElementSibling;i.tO.wordId=t.dataset.idword,localStorage.setItem("general-info",JSON.stringify(i.tO)),u.updateStorageGeneralInfo();try{const e=await d.getWord(i.wr,i.tO);i.Qc.gamesAnswer=e.optional.gamesAnswer,t.classList.contains("active")?await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"normal"):await d.updateWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"easy")}catch(e){await d.createWordsDifficulty(i.wr,i.tO,i.Qc.gamesAnswer,"easy")}finally{a.classList.remove("active"),t.classList.toggle("active"),s.classList.contains("active-difficulty")&&s.classList.remove("active-difficulty"),s.classList.toggle("active-learnt"),u.isAllLearnedWordAndDifficulty()}}))}))}playAudioExample(){this.main.addEventListener("click",(async e=>{const t=e.target;if(t.classList.contains("icon-audio")){let e=0;this.audio.volume=.5,this.audio.paused||(this.audio.pause(),this.audio.currentTime=0);const s=t.dataset.source,a=[s,`${s.slice(0,-4)}_meaning.mp3`,`${s.slice(0,-4)}_example.mp3`];this.audio.src=`https://rslang-bak.herokuapp.com/${a[e]}`,this.audio.play();const n=()=>{const t=(e+1)%a.length;this.audio.currentTime=0,e=t,this.audio.src=`https://rslang-bak.herokuapp.com/${a[e]}`,this.audio.play()};this.audio.addEventListener("ended",(()=>{if(2===e)return this.audio.pause(),this.audio.currentTime=0,!1;this.audio.pause(),n()}))}}))}showHideLearningProgress(){this.main.addEventListener("click",(e=>{const t=e.target,s=e.target.nextElementSibling;if(!t.classList.contains("icon-info-stat"))return!1;s.classList.toggle("active-hidden")}))}goToHome(){this.linkHome.addEventListener("click",(()=>{i.tO.currentPage="home",localStorage.setItem("general-info",JSON.stringify(i.tO)),this.main.innerHTML=l.renderHomePage(),this.wrapper.style.backgroundImage='url("./assets/img/bg-home2.jpg")',u.removeClassActiveFromMain(),this.goToInfoProject(),this.footer.classList.remove("active-hidden"),this.menuBurg.click()})),this.logoLinkHome.addEventListener("click",(e=>{e.preventDefault(),i.tO.currentPage="home",localStorage.setItem("general-info",JSON.stringify(i.tO)),this.main.innerHTML=l.renderHomePage(),this.wrapper.style.backgroundImage='url("./assets/img/bg-home2.jpg")',this.footer.classList.remove("active-hidden"),this.goToInfoProject(),u.removeClassActiveFromMain()}))}showSubMenu(){this.menuHeader.addEventListener("click",(e=>(e.preventDefault(),!0===e.target.classList.contains("sub-menu-link")&&(this.subMenuList.classList.toggle("active"),this.subMenuLink.classList.toggle("active")),!1)))}hideMenuClickBody(){this.wrapper.addEventListener("click",(e=>(e.target.classList.contains("wrapper")&&(this.menuBurg.classList.remove("active"),this.menuHeader.classList.remove("active"),this.wrapper.classList.remove("active")),!1)))}showRegisteredForm(){this.linkToRegistered.addEventListener("click",(e=>{e.preventDefault(),this.formPopapRegistered.classList.toggle("active"),this.formPopapSignup.classList.toggle("active-hidden")}))}showSigninForm(){this.linkToSignup.addEventListener("click",(e=>{e.preventDefault(),this.formPopapRegistered.classList.toggle("active"),this.formPopapSignup.classList.toggle("active-hidden")}))}closeFormRegist(){this.formCloseBtn.addEventListener("click",(()=>{this.popupSignIn.classList.toggle("active"),this.wrapper.classList.remove("active")}))}transitionFromTextbookToHardWords(){document.querySelector(".difficult-words").addEventListener("click",(async()=>{await this.outputDifficultWordPage(),u.isEmptyDifficultyWords(),this.deleteWordDifficult(),u.removeClassActiveFromMain(),u.showHideBtnIconInfoStat()}))}listenerGamesStart(){this.goToGameAudioFromPageTextbook(),this.goToGameSprintFromPageTextbook()}transitionFromHardWordsToTextbook(){document.querySelector(".back-to-textbook").addEventListener("click",(async()=>{await this.outputTextbook(),this.listenerGamesStart()}))}openFormRegist(){this.signIn.addEventListener("click",(()=>{this.popupSignIn.classList.toggle("active"),this.wrapper.classList.add("active")}))}showHideTeamPage(){this.aboutCloseBtn.addEventListener("click",(()=>{this.popupAbout.classList.remove("active")})),this.linkTeam.addEventListener("click",(()=>{this.popupAbout.classList.add("active"),this.menuBurg.click()}))}goToInfoProject(){document.querySelector(".btn-details").addEventListener("click",(()=>{this.popupAbout.classList.add("active")}))}hideStatistic(){this.statisticCloseBtn.addEventListener("click",(()=>{this.popupStatistic.classList.remove("active")}))}goToStatistic(){this.linkStatistic.addEventListener("click",(()=>{this.popupStatistic.classList.add("active"),this.menuBurg.click(),this.hideStatistic()}))}showPersonalAccount(){this.logOutBox.classList.add("active"),this.signIn.classList.add("active-hidden"),this.formCloseBtn.click()}logOutUser(){this.wrapper.addEventListener("click",(e=>{if(!0!==e.target.classList.contains("log-out"))return!1;this.logOutBox.classList.remove("active"),this.signIn.classList.remove("active-hidden"),u.notSignupUser(),u.conditionLoadWords(),"difficult-words"!==i.tO.currentPage&&"learned-words"!==i.tO.currentPage||this.logoLinkHome.click(),u.removeClassActiveFromMain(),localStorage.clear()}))}registeredUser(){this.formPopapRegistered.addEventListener("submit",(async e=>{e.preventDefault(),this.messageError.textContent="",this.messageError.style.display="none";const t={name:this.formPopapRegistered.nameUser.value,email:this.formPopapRegistered.email.value,password:this.formPopapRegistered.password.value};await d.createUser(t),await d.loginUser(t),this.logOutBox.innerHTML=l.renderLogOut(t.name),this.showPersonalAccount(),await p.getStatisticAfterReloadPage(),u.signupUser()}))}async getRefreshToken(){try{await d.getNewUserToken(i.wr),await d.getUser(i.wr),this.logOutBox.innerHTML=l.renderLogOut(i.wr.name),this.logOutBox.classList.add("active"),this.signIn.classList.add("active-hidden"),await p.getStatisticAfterReloadPage(),u.signupUser(),this.addWordDifficult(),this.addLearnedWords()}catch(e){this.signIn.click(),this.messageErrorSignin.textContent="Время прошлой сессии истекло! Войдите в свой аккаунт еще раз.",this.messageErrorSignin.style.display="block",u.notSignupUser()}}loginAccountUser(){this.formPopapSignup.addEventListener("submit",(async e=>{e.preventDefault(),this.messageErrorSignin.textContent="",this.messageErrorSignin.style.display="none";const t={email:this.formPopapSignup.email.value,password:this.formPopapSignup.password.value};await d.loginUser(t),u.updateStorageUserInfo(),this.logOutBox.innerHTML=l.renderLogOut(i.wr.name),this.showPersonalAccount(),u.signupUser(),await u.conditionLoadWords(),u.showHideBtnDifficulty(),this.addWordDifficult(),this.addLearnedWords(),await p.getStatisticAfterReloadPage(),"textbook"===i.tO.currentPage&&u.isAllLearnedWordAndDifficulty()}))}getLocalStorage(){window.addEventListener("load",(async()=>{if(localStorage.getItem("user-info")){u.updateStorageUserInfo();try{await d.getUser(i.wr),this.logOutBox.innerHTML=l.renderLogOut(i.wr.name),this.logOutBox.classList.add("active"),this.signIn.classList.add("active-hidden"),await p.getStatisticAfterReloadPage(),u.signupUser(),this.addWordDifficult(),this.addLearnedWords()}catch(e){await this.getRefreshToken()}}if(localStorage.getItem("general-info"))switch(u.updateStorageGeneralInfo(),i.tO.currentPage){case"home":this.wrapper.style.backgroundImage='url("./assets/img/bg-home2.jpg")',this.goToInfoProject();break;case"textbook":this.wrapper.style.backgroundImage="",u.activeLevelWords(),i.tO.isSignupUser?await u.getCardsWordsSignupUser(i.wr,i.tO):await u.getCardsWords(i.tO.groupWords,i.tO.pageWords),u.getPaginationCards(i.tO.pageWords),u.toggleDisableArrowPagination(),u.showHideBtnDifficulty(),u.showHideSectionDifficulty(),u.isAllLearnedWordAndDifficulty(),this.addWordDifficult(),this.transitionFromTextbookToHardWords(),this.addLearnedWords();break;case"difficult-words":i.tO.isSignupUser&&(await this.outputDifficultWordPage(),u.isEmptyDifficultyWords(),this.deleteWordDifficult(),u.showHideBtnIconInfoStat());break;case"learned-words":await this.outputDifficultWordPage(),this.hideBlockGame(),u.disabledLinkFromDifficultPage(),await u.getAllLearnedCardsWords(i.wr),this.returnDifficultPageFromLearnedPage(),u.isEmptyDifficultyWords(),this.deleteWordLearned(),u.showHideBtnIconInfoStat()}else this.wrapper.style.backgroundImage='url("./assets/img/bg-home2.jpg")',u.removeClassActiveFromMain(),this.goToInfoProject()}))}listenerAll(){this.showMenu(),this.showSubMenu(),this.hideMenuClickBody(),this.showRegisteredForm(),this.showSigninForm(),this.closeFormRegist(),this.openFormRegist(),this.registeredUser(),this.loginAccountUser(),this.getLocalStorage(),this.logOutUser(),this.goToTextbook(),this.goToHome(),this.navigationPageWords(),this.playAudioExample(),this.goToDifficultWordsPage(),this.showHideTeamPage(),this.showHideLearningProgress(),this.goToStatistic()}}const g=m},720:(e,t,s)=>{s.d(t,{wr:()=>a,tO:()=>n,Qc:()=>i,a2:()=>r});const a={message:null,name:null,refreshToken:null,token:null,userId:null};let n={currentPage:"home",groupWords:0,pageWords:0,isSignupUser:!1,wordId:null,levelGame:0};const i={gameAudio:[],gameSprint:[],arrAnswerGameAudio:[],arrAnswerGameSprint:[],longSeriesAnswer:[],countGame:0,countCorrectAnswerInRowSprint:0,countPaginationSprint:0,learnWordsInGames:0,isClearDailyStat:!1,currentWordTranslate:"",currentWord:"",randomWord:"",trueAnswerGame:{},falseAnswerGame:{},optionalAudioCall:{correct:0,wrong:0,total:0},optionalSprint:{correct:0,wrong:0,total:0},gamesAnswer:{correct:0,wrong:0},difficultyWord:""},r={date:(new Date).toLocaleDateString(),games:{audio:{correctAnswer:0,wrongAnswer:0,newWords:0,percentCorrect:0,longSeries:0},sprint:{correctAnswer:0,wrongAnswer:0,newWords:0,percentCorrect:0,longSeries:0}},totalNewWords:0,learnedWordsDaily:0,percentAllCorrect:0,allWordsDaily:0,wordsList:{allWordsList:[]}};window.addEventListener("load",(()=>{localStorage.getItem("general-info")&&(n=JSON.parse(localStorage.getItem("general-info")))}))},815:(e,t,s)=>{s.d(t,{Z:()=>a});const a=class{trackScroll(){const e=document.querySelector(".top"),t=window.pageYOffset,s=document.documentElement.clientHeight;t>s&&e.classList.add("active-up"),t<s&&e.classList.remove("active-up")}backToTop(){let e;Math.max(document.body.scrollTop,document.documentElement.scrollTop)>0?(window.scrollBy(0,-1e6),e=setTimeout(this.backToTop,20)):clearTimeout(e)}upHeader(){const e=document.querySelector(".top");window.addEventListener("scroll",(()=>this.trackScroll())),e.addEventListener("click",(()=>this.backToTop()))}}},438:(e,t,s)=>{s.d(t,{Z:()=>a});const a=class{preloaderApp(){window.addEventListener("load",(()=>{const e=document.querySelector(".preloader");setTimeout((()=>{e.classList.add("preloader-hidden")}),1e3)}))}showPreloaderPage(){const e=document.querySelector(".preloader-page"),t=document.querySelector(".footer");e.classList.add("preloader-visible"),t.classList.add("active-hidden")}hidePreloaderPage(){const e=document.querySelector(".preloader-page"),t=document.querySelector(".footer");setTimeout((()=>{e.classList.remove("preloader-visible"),t.classList.remove("active-hidden")}),500)}}},559:(e,t,s)=>{s.d(t,{Z:()=>r});var a=s(34),n=s(720);const i=new a.Z,r=class{saveStatisticStorage(e){if(e.date!==(new Date).toLocaleDateString()){const t=JSON.parse(JSON.stringify(n.a2));return t.wordsList=e.wordsList,n.Qc.isClearDailyStat=!0,t}{const t=JSON.parse(JSON.stringify(n.a2));return t.date=e.date,t.games=e.games,t.learnedWordsDaily=e.learnedWordsDaily,t.percentAllCorrect=e.percentAllCorrect,t.totalNewWords=e.percentAllCorrect,t.allWordsDaily=e.allWordsDaily,t.wordsList=e.wordsList,t}}uniqueNewWords({trueAnswerGame:e,falseAnswerGame:t},{wordsList:{allWordsList:s}}){return new Set([...Object.keys(e),...Object.keys(t),...s])}recordNewWordsGamesInStatistic({trueAnswerGame:e,falseAnswerGame:t},{wordsList:{allWordsList:s}}){return[...Object.keys(e),...Object.keys(t)].reduce(((e,t)=>{let a=e;return s.includes(t)||a++,a}),0)}updateDataStatisticGames({trueAnswerGame:e,falseAnswerGame:t},s){if("game-audio"===n.tO.currentPage||"game-audio-from-textbook"===n.tO.currentPage){s.games.audio.correctAnswer+=Object.keys(e).length,s.games.audio.wrongAnswer+=Object.keys(t).length,s.games.audio.newWords=0===this.recordNewWordsGamesInStatistic(n.Qc,s)?s.games.audio.newWords:this.recordNewWordsGamesInStatistic(n.Qc,s);const a=s.games.audio.correctAnswer+s.games.audio.wrongAnswer;s.games.audio.percentCorrect=Math.round(s.games.audio.correctAnswer/a*100),s.games.audio.longSeries=s.games.audio.longSeries<Math.max(...n.Qc.longSeriesAnswer)?Math.max(...n.Qc.longSeriesAnswer):s.games.audio.longSeries}if("game-sprint"===n.tO.currentPage||"game-sprint-from-textbook"===n.tO.currentPage){s.games.sprint.correctAnswer+=Object.keys(e).length,s.games.sprint.wrongAnswer+=Object.keys(t).length,s.games.sprint.newWords=0===this.recordNewWordsGamesInStatistic(n.Qc,s)?s.games.sprint.newWords:this.recordNewWordsGamesInStatistic(n.Qc,s);const a=s.games.sprint.correctAnswer+s.games.sprint.wrongAnswer;s.games.sprint.percentCorrect=Math.round(s.games.sprint.correctAnswer/a*100),s.games.sprint.longSeries=s.games.sprint.longSeries<Math.max(...n.Qc.longSeriesAnswer)?Math.max(...n.Qc.longSeriesAnswer):s.games.sprint.longSeries}}updateDataStatistic({trueAnswerGame:e,falseAnswerGame:t},s){const a=Object.keys(e).length+Object.keys(t).length;this.updateDataStatisticGames(n.Qc,s),s.allWordsDaily+=a,s.totalNewWords=s.games.sprint.newWords+s.games.audio.newWords,s.learnedWordsDaily+=n.Qc.learnWordsInGames;const i=s.games.audio.correctAnswer+s.games.sprint.correctAnswer;s.percentAllCorrect=Math.round(i/s.allWordsDaily*100),s.wordsList.allWordsList=[...this.uniqueNewWords(n.Qc,s)]}renderStatisticInPage(e){const t=document.querySelector(".total-sprint-words"),s=document.querySelector(".percent-answer-sprint"),a=document.querySelector(".long-series-sprint"),n=document.querySelector(".total-audio-words"),i=document.querySelector(".percent-answer-audio"),r=document.querySelector(".long-series-audio"),o=document.querySelector(".total-new-words"),c=document.querySelector(".learned-words-stat"),d=document.querySelector(".percent-correct-answer");t.textContent=`${e.games.sprint.newWords}`,s.textContent=`${e.games.sprint.percentCorrect}%`,a.textContent=`${e.games.sprint.longSeries}`,n.textContent=`${e.games.audio.newWords}`,i.textContent=`${e.games.audio.percentCorrect}%`,r.textContent=`${e.games.audio.longSeries}`,o.textContent=`${e.totalNewWords}`,c.textContent=`${e.learnedWordsDaily}`,d.textContent=`${e.percentAllCorrect}%`}async saveStatisticInDataBase(){try{const{optional:e}=await i.getStatistic(n.wr),t=this.saveStatisticStorage(e);this.updateDataStatistic(n.Qc,t),this.renderStatisticInPage(t),await i.updateStatistic(n.wr,t)}catch(e){await i.updateStatistic(n.wr,n.a2)}}async getStatisticAfterReloadPage(){try{const{optional:e}=await i.getStatistic(n.wr),t=this.saveStatisticStorage(e);this.renderStatisticInPage(t),!0===n.Qc.isClearDailyStat&&(await i.updateStatistic(n.wr,t),n.Qc.isClearDailyStat=!1)}catch(e){await i.updateStatistic(n.wr,n.a2)}}}},602:(e,t,s)=>{s.d(t,{Z:()=>d});var a=s(34),n=s(720);const i=class{constructor(e,t,s,a,n,i,r,o,c,d,l){this.id=e,this.image=t,this.word=s,this.wordTranslate=a,this.transcription=n,this.audio=i,this.textMeaning=r,this.textMeaningTranslate=o,this.textExample=c,this.textExampleTranslate=d,this.userWord=l,this.wrapperCardWords=document.querySelector(".wrapper-card-words"),this.wrapperCardWordsDifficult=document.querySelector(".wrapper-card-words-difficult")}createAndRenderCards(){const e=`\n      <div class="card-words">\n        <button class="icon-info-stat active-hidden" title="Прогресс изучения"></button>\n        <div class="info-message active-hidden">\n          <div class="info-block-text">\n            <h4 class="info-message-title">Ответы в играх</h4>\n            <p>Правильных ответов: <span class="correct-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.correct:0}</span></p>\n            <p>Не правильных ответов: <span class="wrong-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.wrong:0}</span></p>\n          </div>\n        </div>\n        <img class="card-words-img" src="https://rslang-bak.herokuapp.com/${this.image}" alt="${this.wordTranslate}"></img>\n        <p class="word">${this.word}</p>\n        <div class="block-words">\n          <p class="word-translate">${this.wordTranslate}</p>\n          <p class="word-transcription">${this.transcription}</p>\n          <button class="icon-audio" data-source="${this.audio}"></button>\n        </div>\n        <div class="block-example">\n          <h3 class="h3">Значение</h3>\n          <p>${this.textMeaning}</p>\n          <p>${this.textMeaningTranslate}</p>\n          <h3 class="h3">Пример</h3>\n          <p>${this.textExample}</p>\n          <p>${this.textExampleTranslate}</p>\n        </div>\n        <div class="block-btn active-hidden">\n          <button class="button-add-difficult" data-idword="${this.id}">Сложное</button>\n          <button class="button-study-word" data-idword="${this.id}">Изученное</button>\n        </div>\n      </div>\n    `;this.wrapperCardWords.insertAdjacentHTML("beforeend",e)}createAndRenderCardsDifficulty(){const e=`\n      <div class="card-words active-difficulty">\n        <button class="icon-info-stat active-hidden" title="Прогресс изучения"></button>\n        <div class="info-message active-hidden">\n          <div class="info-block-text">\n            <h4 class="info-message-title">Ответы в играх</h4>\n            <p>Правильных ответов: <span class="correct-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.correct:0}</span></p>\n            <p>Не правильных ответов: <span class="wrong-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.wrong:0}</span></p>\n          </div>\n        </div>\n        <img class="card-words-img" src="https://rslang-bak.herokuapp.com/${this.image}" alt="${this.wordTranslate}"></img>\n        <p class="word">${this.word}</p>\n        <div class="block-words">\n          <p class="word-translate">${this.wordTranslate}</p>\n          <p class="word-transcription">${this.transcription}</p>\n          <button class="icon-audio" data-source="${this.audio}"></button>\n        </div>\n        <div class="block-example">\n          <h3 class="h3">Значение</h3>\n          <p>${this.textMeaning}</p>\n          <p>${this.textMeaningTranslate}</p>\n          <h3 class="h3">Пример</h3>\n          <p>${this.textExample}</p>\n          <p>${this.textExampleTranslate}</p>\n        </div>\n        <div class="block-btn active-hidden">\n          <button class="button-add-difficult active" data-idword="${this.id}">Сложное</button>\n          <button class="button-study-word" data-idword="${this.id}">Изученное</button>\n        </div>\n      </div>\n    `;this.wrapperCardWords.insertAdjacentHTML("beforeend",e)}renderCardsDifficultyPage(){const e=`\n      <div class="card-words active-difficulty">\n        <button class="icon-info-stat active-hidden" title="Прогресс изучения"></button>\n        <div class="info-message active-hidden">\n          <div class="info-block-text">\n            <h4 class="info-message-title">Ответы в играх</h4>\n            <p>Правильных ответов: <span class="correct-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.correct:0}</span></p>\n            <p>Не правильных ответов: <span class="wrong-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.wrong:0}</span></p>\n          </div>\n        </div>\n        <img class="card-words-img" src="https://rslang-bak.herokuapp.com/${this.image}" alt="${this.wordTranslate}"></img>\n        <p class="word">${this.word}</p>\n        <div class="block-words">\n          <p class="word-translate">${this.wordTranslate}</p>\n          <p class="word-transcription">${this.transcription}</p>\n          <button class="icon-audio" data-source="${this.audio}"></button>\n        </div>\n        <div class="block-example">\n          <h3 class="h3">Значение</h3>\n          <p>${this.textMeaning}</p>\n          <p>${this.textMeaningTranslate}</p>\n          <h3 class="h3">Пример</h3>\n          <p>${this.textExample}</p>\n          <p>${this.textExampleTranslate}</p>\n        </div>\n        <div class="block-btn">\n          <button class="button-delete-difficult active" data-idword="${this.id}">Удалить</button>\n        </div>\n      </div>\n    `;this.wrapperCardWordsDifficult.insertAdjacentHTML("beforeend",e)}createAndRenderCardsLearned(){const e=`\n      <div class="card-words active-learnt">\n        <button class="icon-info-stat active-hidden" title="Прогресс изучения"></button>\n        <div class="info-message active-hidden">\n          <div class="info-block-text">\n            <h4 class="info-message-title">Ответы в играх</h4>\n            <p>Правильных ответов: <span class="correct-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.correct:0}</span></p>\n            <p>Не правильных ответов: <span class="wrong-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.wrong:0}</span></p>\n          </div>\n        </div>\n        <img class="card-words-img" src="https://rslang-bak.herokuapp.com/${this.image}" alt="${this.wordTranslate}"></img>\n        <p class="word">${this.word}</p>\n        <div class="block-words">\n          <p class="word-translate">${this.wordTranslate}</p>\n          <p class="word-transcription">${this.transcription}</p>\n          <button class="icon-audio" data-source="${this.audio}"></button>\n        </div>\n        <div class="block-example">\n          <h3 class="h3">Значение</h3>\n          <p>${this.textMeaning}</p>\n          <p>${this.textMeaningTranslate}</p>\n          <h3 class="h3">Пример</h3>\n          <p>${this.textExample}</p>\n          <p>${this.textExampleTranslate}</p>\n        </div>\n        <div class="block-btn active-hidden">\n          <button class="button-add-difficult" data-idword="${this.id}">Сложное</button>\n          <button class="button-study-word active" data-idword="${this.id}">Изученное</button>\n        </div>\n      </div>\n    `;this.wrapperCardWords.insertAdjacentHTML("beforeend",e)}renderCardsLearnedPage(){const e=`\n      <div class="card-words active-learnt">\n        <button class="icon-info-stat active-hidden" title="Прогресс изучения"></button>\n        <div class="info-message active-hidden">\n          <div class="info-block-text">\n            <h4 class="info-message-title">Ответы в играх</h4>\n            <p>Правильных ответов: <span class="correct-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.correct:0}</span></p>\n            <p>Не правильных ответов: <span class="wrong-answer">${void 0!==this.userWord?this.userWord.optional.gamesAnswer.wrong:0}</span></p>\n          </div>\n        </div>\n        <img class="card-words-img" src="https://rslang-bak.herokuapp.com/${this.image}" alt="${this.wordTranslate}"></img>\n        <p class="word">${this.word}</p>\n        <div class="block-words">\n          <p class="word-translate">${this.wordTranslate}</p>\n          <p class="word-transcription">${this.transcription}</p>\n          <button class="icon-audio" data-source="${this.audio}"></button>\n        </div>\n        <div class="block-example">\n          <h3 class="h3">Значение</h3>\n          <p>${this.textMeaning}</p>\n          <p>${this.textMeaningTranslate}</p>\n          <h3 class="h3">Пример</h3>\n          <p>${this.textExample}</p>\n          <p>${this.textExampleTranslate}</p>\n        </div>\n        <div class="block-btn">\n          <button class="button-delete-study active" data-idword="${this.id}">Удалить</button>\n        </div>\n      </div>\n    `;this.wrapperCardWordsDifficult.insertAdjacentHTML("beforeend",e)}};var r=s(438);const o=new a.Z,c=new r.Z,d=class{async getCardsWords(e,t){c.showPreloaderPage(),document.querySelector(".wrapper-card-words").innerHTML="",Object.values(await o.getTextbookWords(e,t)).forEach((e=>{new i(e.id,e.image,e.word,e.wordTranslate,e.transcription,e.audio,e.textMeaning,e.textMeaningTranslate,e.textExample,e.textExampleTranslate).createAndRenderCards()}))}async getCardsWordsSignupUser(e,t){c.showPreloaderPage(),document.querySelector(".wrapper-card-words").innerHTML="",Object.values(await o.getTextbookWordsSignupUser(e,t)).map((e=>e.paginatedResults)).flat().forEach((e=>{const t=new i(e._id,e.image,e.word,e.wordTranslate,e.transcription,e.audio,e.textMeaning,e.textMeaningTranslate,e.textExample,e.textExampleTranslate,e.userWord);if(e.userWord)switch(e.userWord.difficulty){case"normal":t.createAndRenderCards();break;case"hard":t.createAndRenderCardsDifficulty();break;case"easy":t.createAndRenderCardsLearned()}else t.createAndRenderCards()}))}async getAllDifficultyCardsWords(e){c.showPreloaderPage(),document.querySelector(".wrapper-card-words-difficult").innerHTML="",Object.values(await o.getDifficultWordsSignupUser(e)).map((e=>e.paginatedResults)).flat().forEach((e=>{new i(e._id,e.image,e.word,e.wordTranslate,e.transcription,e.audio,e.textMeaning,e.textMeaningTranslate,e.textExample,e.textExampleTranslate,e.userWord).renderCardsDifficultyPage()}))}async getAllLearnedCardsWords(e){c.showPreloaderPage(),document.querySelector(".wrapper-card-words-difficult").innerHTML="",Object.values(await o.getLearnedWordsSignupUser(e)).map((e=>e.paginatedResults)).flat().forEach((e=>{new i(e._id,e.image,e.word,e.wordTranslate,e.transcription,e.audio,e.textMeaning,e.textMeaningTranslate,e.textExample,e.textExampleTranslate,e.userWord).renderCardsLearnedPage()}))}getPaginationCards(e,t=30,s=document.querySelector(".pagination-textbook")){s.innerHTML="",new class{constructor(e,t,s){this.current=e,this.all=t,this.parentElement=s}renderNumberPage(e){const t=document.createElement("button");t.setAttribute("data-page",""+(e-1)),t.textContent=`${e}`,e===this.current&&t.classList.add("current"),t.classList.add("btn-pagination"),this.parentElement.append(t)}renderLinkPagination(e){const t=document.createElement("button");switch(e){case 1:t.innerHTML='<i class="fas fa-angle-left"></i>',t.classList.add("prev-arrow"),this.parentElement.append(t),this.renderNumberPage(e);break;case this.all:this.renderNumberPage(e),t.innerHTML='<i class="fas fa-angle-right"></i>',t.classList.add("next-arrow"),this.parentElement.append(t);break;default:this.renderNumberPage(e)}}renderDotsPagination(){const e=document.createElement("span");e.classList.add("rest-page"),e.innerHTML="...",this.parentElement.append(e)}renderPagination(){if(1===this.all)return;const e=[1,this.all];for(let t=this.current-2;t<=this.current+2;t++)t<1||t>this.all||e.push(t);const t=[...new Set(e)];t.sort(((e,t)=>e-t));for(let e=0;e<t.length;e++)this.renderLinkPagination(t[e]),e+1<t.length&&t[e]+1!==t[e+1]&&this.renderDotsPagination()}}(e+1,t,s).renderPagination()}async outputWordsAndPagination(){localStorage.setItem("general-info",JSON.stringify(n.tO)),n.tO.isSignupUser?await this.getCardsWordsSignupUser(n.wr,n.tO):await this.getCardsWords(n.tO.groupWords,n.tO.pageWords),this.getPaginationCards(n.tO.pageWords),this.isAllLearnedWordAndDifficulty()}toggleDisableArrowPagination(){const e=document.querySelector(".next-arrow"),t=document.querySelector(".prev-arrow");switch(n.tO.pageWords){case 29:e.disabled=!0;break;case 0:t.disabled=!0;break;default:e.disabled=!1,t.disabled=!1}}isEmptyDifficultyWords(){const e=document.querySelector(".wrapper-card-words-difficult");if(!e.firstChild){const t='<div class="empty-block"><p class="empty-message">Пока в этой категории ничего нет.</p></div>';e.insertAdjacentHTML("beforeend",t)}}isAllLearnedWordAndDifficulty(){if(n.tO.isSignupUser){const e=document.querySelectorAll(".card-words"),t=document.querySelector(".main"),s=document.querySelector(".btn-pagination"),a=document.querySelectorAll(".game-card");let n=0;for(const t of e){if(!t.classList.contains("active-learnt")&&!t.classList.contains("active-difficulty"))break;n++}20===n?(t.classList.add("active-study"),s.classList.add("active-study"),a.forEach((e=>e.classList.add("active-disabled")))):(t.classList.remove("active-study"),s.classList.remove("active-study"),a.forEach((e=>e.classList.remove("active-disabled"))))}}removeClassActiveFromMain(){if(document.querySelector(".main").classList.remove("active-study"),"textbook"===n.tO.currentPage){const e=document.querySelector(".btn-pagination"),t=document.querySelectorAll(".game-card");e.classList.remove("active-study"),t.forEach((e=>e.classList.remove("active-disabled")))}}disabledLinkFromDifficultPage(){const e=document.querySelector(".link-study-word"),t=document.querySelector(".back-to-difficult");e.setAttribute("disabled","disabled"),t.removeAttribute("disabled")}updateStorageUserInfo(){const{name:e,token:t,refreshToken:s,userId:a,message:i}=JSON.parse(localStorage.getItem("user-info"));n.wr.name=e,n.wr.message=i,n.wr.token=t,n.wr.refreshToken=s,n.wr.userId=a}updateStorageGeneralInfo(){const{currentPage:e,groupWords:t,pageWords:s,isSignupUser:a,wordId:i}=JSON.parse(localStorage.getItem("general-info"));n.tO.currentPage=e,n.tO.groupWords=t,n.tO.pageWords=s,n.tO.isSignupUser=a,n.tO.wordId=i}async conditionLoadWords(){n.tO.isSignupUser&&"textbook"===n.tO.currentPage&&await this.getCardsWordsSignupUser(n.wr,n.tO),n.tO.isSignupUser||"textbook"!==n.tO.currentPage||await this.getCardsWords(n.tO.groupWords,n.tO.pageWords)}signupUser(){n.tO.isSignupUser=!0,localStorage.setItem("general-info",JSON.stringify(n.tO)),document.querySelectorAll(".menu-list-item").forEach((e=>e.classList.remove("active-hidden"))),this.showHideBtnDifficulty(),"textbook"===n.tO.currentPage&&document.querySelector(".difficult-words").classList.remove("active-hidden")}notSignupUser(){n.tO.isSignupUser=!1,localStorage.setItem("general-info",JSON.stringify(n.tO)),document.querySelector(".menu-list-item-difficulty").classList.add("active-hidden"),document.querySelector(".menu-list-item-statistic").classList.add("active-hidden"),this.showHideBtnDifficulty(),"textbook"===n.tO.currentPage&&document.querySelector(".difficult-words").classList.add("active-hidden")}showHideBtnDifficulty(){const e=document.querySelectorAll(".block-btn");n.tO.isSignupUser?e.forEach((e=>e.classList.remove("active-hidden"))):e.forEach((e=>e.classList.add("active-hidden"))),this.showHideBtnIconInfoStat()}showHideBtnIconInfoStat(){const e=document.querySelectorAll(".icon-info-stat");n.tO.isSignupUser?e.forEach((e=>e.classList.remove("active-hidden"))):e.forEach((e=>e.classList.add("active-hidden")))}showHideSectionDifficulty(){const e=document.querySelector(".difficult-words");n.tO.isSignupUser?e.classList.remove("active-hidden"):e.classList.add("active-hidden")}activeLevelWords(){document.querySelectorAll(".levels-item").forEach((e=>{Number(e.dataset.group)===n.tO.groupWords?e.classList.add("active"):e.classList.remove("active")}))}}},34:(e,t,s)=>{s.d(t,{Z:()=>i});var a=s(720);const n=new(s(438).Z),i=class{constructor(){this.base="https://rslang-bak.herokuapp.com",this.users=`${this.base}/users`,this.signin=`${this.base}/signin`,this.words=`${this.base}/words`}async createUser(e){const t=document.querySelector(".message-error"),s=await fetch(`${this.users}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});return 417===s.status&&(t.textContent="Пользователь с таким e-mail уже существует! Введите другой e-mail.",t.style.display="block"),await s.json()}async loginUser({email:e,password:t}){const s=document.querySelector(".message-error-signin"),a=await fetch(`${this.signin}`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});switch(a.status){case 404:s.textContent="Не удалось найти пользователя! Проверьте логин и пароль.",s.style.display="block";break;case 403:s.textContent="Не верный пароль! Попробуйте еще раз.",s.style.display="block"}const n=await a.json();localStorage.setItem("user-info",JSON.stringify(n))}async getNewUserToken({userId:e,refreshToken:t}){const s=await fetch(`${this.users}/${e}/tokens`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}}),n=await s.json();a.wr.token=n.token,a.wr.refreshToken=n.refreshToken,localStorage.setItem("user-info",JSON.stringify(a.wr))}async getUser({userId:e,token:t}){const s=await fetch(`${this.users}/${e}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return await s.json()}async getTextbookWords(e,t){const s=await fetch(`${this.words}?group=${e}&page=${t}`);return"textbook"===a.tO.currentPage&&s.ok&&n.hidePreloaderPage(),await s.json()}async getGameWord({userId:e,token:t},s){const a=await fetch(`${this.users}/${e}/words/${s}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return await a.json()}async updateGameWords({userId:e,token:t},{correct:s,wrong:a},n,i){const r=await fetch(`${this.users}/${e}/words/${i}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:n,optional:{gamesAnswer:{correct:s,wrong:a}}})});return await r.json()}async createGameWords({userId:e,token:t},{correct:s,wrong:a},n,i){const r=await fetch(`${this.users}/${e}/words/${i}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:n,optional:{gamesAnswer:{correct:s,wrong:a}}})});return await r.json()}async getWord({userId:e,token:t},{wordId:s}){const a=await fetch(`${this.users}/${e}/words/${s}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return await a.json()}async createWordsDifficulty({userId:e,token:t},{wordId:s},{correct:a,wrong:n},i){const r=await fetch(`${this.users}/${e}/words/${s}`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:i,optional:{gamesAnswer:{correct:a,wrong:n}}})});return await r.json()}async updateWordsDifficulty({userId:e,token:t},{wordId:s},{correct:a,wrong:n},i){const r=await fetch(`${this.users}/${e}/words/${s}`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({difficulty:i,optional:{gamesAnswer:{correct:a,wrong:n}}})});return await r.json()}async getTextbookWordsSignupUser({userId:e,token:t},{groupWords:s,pageWords:i}){const r=await fetch(`${this.users}/${e}/aggregatedWords?wordsPerPage=20&filter={"$and":[{"group":${s}},{"page":${i}}]}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return"textbook"===a.tO.currentPage&&r.ok&&n.hidePreloaderPage(),await r.json()}async getGameTextbookWordsSignupUser({userId:e,token:t},{groupWords:s,pageWords:i}){const r=await fetch(`${this.users}/${e}/aggregatedWords?group=${s}&wordsPerPage=20&filter={"$and":[{"$or":[{"userWord.difficulty":"hard"},{"userWord.difficulty":"normal"},{"userWord":null}]},{"page":${i}}]}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return"textbook"===a.tO.currentPage&&r.ok&&n.hidePreloaderPage(),await r.json()}async getDifficultWordsSignupUser({userId:e,token:t}){const s=await fetch(`${this.users}/${e}/aggregatedWords?wordsPerPage=3600&filter={"userWord.difficulty":"hard"}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return s.ok&&n.hidePreloaderPage(),await s.json()}async getLearnedWordsSignupUser({userId:e,token:t}){const s=await fetch(`${this.users}/${e}/aggregatedWords?wordsPerPage=3600&filter={"userWord.difficulty":"easy"}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return s.ok&&n.hidePreloaderPage(),await s.json()}async getStatistic({userId:e,token:t}){const s=await fetch(`${this.users}/${e}/statistics`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"}});return await s.json()}async updateStatistic({userId:e,token:t},s){const a=await fetch(`${this.users}/${e}/statistics`,{method:"PUT",headers:{Authorization:`Bearer ${t}`,Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({learnedWords:0,optional:Object.assign({},s)})});return await a.json()}}},329:(e,t,s)=>{s.d(t,{Z:()=>a});const a=class{renderHomePage(){return'\n      <div class="wrapper-home">\n        <div class="main-align-center">\n          <h1 class="h1">RS Lang</h1>\n          <div class="title-composition"></div>\n          <button class="button btn-details">Подробнее</button>\n        </div>\n      </div>\n    '}renderLogOut(e){return`\n      <p class="text-hello">Привет, <span>${e}</span></p>\n      <div class="avatar-img"><i class="fas fa-user-circle"></i></div>\n      <button class="log-out"><i class="fas fa-sign-out-alt"></i></button>\n    `}renderLevelsWords(){return'\n      <div class="difficulty-levels-words">\n        <div class="levels-item item-1" data-group="0">1 (A1)</div>\n        <div class="levels-item item-2" data-group="1">2 (A2)</div>\n        <div class="levels-item item-3" data-group="2">3 (B1)</div>\n        <div class="levels-item item-4" data-group="3">4 (B2)</div>\n        <div class="levels-item item-5" data-group="4">5 (C1)</div>\n        <div class="levels-item item-6" data-group="5">6 (C2)</div>\n      </div>\n    '}renderTextbook(){return`\n      <div class="preloader-page"><div class="pulse"></div></div>\n      <div class="wrapper-textbook">\n        <div class="textbook-content">\n          <h2 class="textbook-title">Учебник</h2>\n          <p class="title-levels-words">Уровни сложности слов</p>\n          ${this.renderLevelsWords()}\n          <div class="difficult-words active-hidden">Сложные слова</div>\n          <div class="wrapper-card-words">\n          \n          </div>\n          <div class="pagination-textbook"></div>\n          <div class="games-block">\n            <h2 class="game-title">Игры</h2>\n            <div class="games-wrapper">\n              <div class="game-card game-card-sprint">\n                <h4 class="game-name">Спринт</h4>\n                <div class="game-img game-icon-sprint"></div>\n                <p class="discription-game">Игра на время. Определи верный перевод слова или нет.</p>\n              </div>\n              <div class="game-card game-card-audio-call">\n                <h4 class="game-name">Аудиовызов</h4>\n                <div class="game-img game-icon-audio"></div>\n                <p class="discription-game">Попробуй понять, какое слово было произнесено.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `}renderDifficultyPage(){return'\n      <div class="preloader-page"><div class="pulse"></div></div>\n      <div class="wrapper-difficult-words">\n        <div class="nav-difficult-words">\n          <button href="" class="back-to-textbook"><i class="fas fa-arrow-left"></i> назад в учебник</button>\n          <button href="" class="back-to-difficult" disabled>Сложные слова</button>\n          <button href="" class="link-study-word">Изученные слова</button>\n        </div>\n        <div class="wrapper-card-words-difficult">\n          \n        </div>\n        <div class="games-block">\n          <h2 class="game-title">Игры</h2>\n          <div class="games-wrapper">\n            <div class="game-card game-card-sprint">\n              <h4 class="game-name">Спринт</h4>\n              <div class="game-img game-icon-sprint"></div>\n              <p class="discription-game">Игра на время. Определи верный перевод слова или нет.</p>\n            </div>\n            <div class="game-card game-card-audio-call">\n              <h4 class="game-name">Аудиовызов</h4>\n              <div class="game-img game-icon-audio"></div>\n              <p class="discription-game">Попробуй понять, какое слово было произнесено.</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    '}renderGameSprint(){return'\n      <div class="popup-game-level active-hidden">\n        <div class="block-description-game">\n          <h2 class="title-game-audio-call">Спринт</h2>\n          <p class="description-game-audio">Игра Спринт учит быстро переводить слова.</p>\n        </div>\n        <details class="description-keyboard">\n          <summary>Управление на клавиатуре</summary>\n          <p><button>F</button> - полноэкранный режим</p>\n          <p><button><i class="fas fa-arrow-left"></i></button> - ответить неверно</p>\n          <p><button><i class="fas fa-arrow-right"></i></button> - ответить верно</p>\n        </details>\n        <p class="selection-title-game">Выберите сложность игры</p>\n        <div class="levels-game">\n          <div class="levels-game-item item-1" data-group="0">1 (A1)</div>\n          <div class="levels-game-item item-2" data-group="1">2 (A2)</div>\n          <div class="levels-game-item item-3" data-group="2">3 (B1)</div>\n          <div class="levels-game-item item-4" data-group="3">4 (B2)</div>\n          <div class="levels-game-item item-5" data-group="4">5 (C1)</div>\n          <div class="levels-game-item item-6" data-group="5">6 (C2)</div>\n        </div>\n        <div class="block-button-popap-game">\n          <button class="btn-cancel">Выйти</button>\n          <button class="btn-start" title="Выберите сложность" disabled>Начать</button>\n        </div>\n      </div>\n    '}renderGameAudioCall(){return'\n      <div class="popup-game-level active-hidden">\n        <div class="block-description-game">\n          <h2 class="title-game-audio-call">Аудиовызов</h2>\n          <p class="description-game-audio">Игра Аудиовызов улучшает твое восприятие речи на слух.</p>\n        </div>\n        <details class="description-keyboard">\n          <summary>Управление на клавиатуре</summary>\n          <p><button>F</button> - полноэкранный режим</p>\n          <p><button>SPACE</button> - не знаю</p>\n          <p><button>ENTER</button> - далее</p>\n          <p><button>1,2,3,4,5</button> - варианты ответов</p>\n        </details>\n        <p class="selection-title-game">Выберите сложность игры</p>\n        <div class="levels-game">\n          <div class="levels-game-item item-1" data-group="0">1 (A1)</div>\n          <div class="levels-game-item item-2" data-group="1">2 (A2)</div>\n          <div class="levels-game-item item-3" data-group="2">3 (B1)</div>\n          <div class="levels-game-item item-4" data-group="3">4 (B2)</div>\n          <div class="levels-game-item item-5" data-group="4">5 (C1)</div>\n          <div class="levels-game-item item-6" data-group="5">6 (C2)</div>\n        </div>\n        <div class="block-button-popap-game">\n          <button class="btn-cancel">Выйти</button>\n          <button class="btn-start" title="Выберите сложность" disabled>Начать</button>\n        </div>\n      </div>\n    '}renderGameAudioCallFromTextbook(){return'\n      <div class="popup-game-level active-hidden">\n        <div class="block-description-game">\n          <h2 class="title-game-audio-call">Аудиовызов</h2>\n          <p class="description-game-audio">Игра Аудиовызов улучшает твое восприятие речи на слух.</p>\n        </div>\n        <details class="description-keyboard">\n          <summary>Управление на клавиатуре</summary>\n          <p><button>F</button> - полноэкранный режим</p>\n          <p><button>SPACE</button> - не знаю</p>\n          <p><button>ENTER</button> - далее</p>\n          <p><button>1,2,3,4,5</button> - варианты ответов</p>\n        </details>\n        <p class="selection-title-game">Игра начнется с словами из текущей страницы учебника. Удачи!</p>\n        <div class="block-button-popap-game">\n          <button class="btn-cancel">Выйти</button>\n          <button class="btn-start">Начать</button>\n        </div>\n      </div>\n    '}renderGameSprintFromTextbook(){return'\n      <div class="popup-game-level active-hidden">\n        <div class="block-description-game">\n          <h2 class="title-game-audio-call">Спринт</h2>\n          <p class="description-game-audio">Игра Спринт учит быстро переводить слова.</p>\n        </div>\n        <details class="description-keyboard">\n          <summary>Управление на клавиатуре</summary>\n          <p><button>F</button> - полноэкранный режим</p>\n          <p><button><i class="fas fa-arrow-left"></i></button> - ответить неверно</p>\n          <p><button><i class="fas fa-arrow-right"></i></button> - ответить верно</p>\n        </details>\n        <p class="selection-title-game">Игра начнется с словами из текущей страницы учебника. Удачи!</p>\n        <div class="block-button-popap-game">\n          <button class="btn-cancel">Выйти</button>\n          <button class="btn-start">Начать</button>\n        </div>\n      </div>\n    '}selectionRenderPage(){if(localStorage.getItem("general-info"))switch(JSON.parse(localStorage.getItem("general-info")).currentPage){case"home":return this.renderHomePage();case"textbook":return this.renderTextbook()}return this.renderHomePage()}async render(){const e=`\n      <div class="preloader"><div class="pulse"></div></div>\n      <header class="header">\n        <div class="menu-burger">\n          <button class="menu-btn">\n            <span></span>\n          </button>\n        </div>\n        <nav class="menu-header">\n          <ul class="menu-list">\n            <li class="menu-list-item">\n              <a href="" class="menu-link" id="link-home"><i class="fas fa-home"></i>Главная</a>\n            </li>\n            <li class="menu-list-item">\n              <a href="" class="menu-link" id="link-textbook"><i class="fas fa-book-reader"></i>Учебник</a>\n            </li>\n            <li class="menu-list-item menu-list-item-difficulty active-hidden">\n              <a href="" class="menu-link" id="link-difficulty"><i class="fas fa-book"></i>Сложные слова</a>\n            </li>\n            <li class="menu-list-item">\n              <a href="" class="sub-menu-link menu-link"><i class="fas fa-gamepad"></i>Игры</a>\n              <ul class="submenu-list">\n                <li class="submenu-list-item"><a href="" class="menu-link" id="link-game-sprint"><i class="fas fa-running"></i>Спринт</a></li>\n                <li class="submenu-list-item"><a href="" class="menu-link" id="link-game-audio"><i class="fas fa-headphones-alt"></i>Аудиовызов</a></li>\n              </ul>\n            </li>\n            <li class="menu-list-item menu-list-item-statistic active-hidden">\n              <a href="" class="menu-link" id="link-statistic"><i class="fas fa-trophy"></i>Статистика</a>\n            </li>\n            <li class="menu-list-item">\n              <a href="" class="menu-link" id="link-team"><i class="fas fa-user-friends"></i>О приложении</a>\n            </li>\n          </ul>\n        </nav>\n        <h2 class="h2"><a href="" class="logo">RS Lang</a></h2>\n        <button class="sign-in"><i class="fas fa-sign-in-alt"></i> Войти</button>\n        <div class="avatar-box">\n          ${this.renderLogOut(" ")}\n        </div>\n      </header>\n      <main class="main">\n        ${this.selectionRenderPage()}\n      </main>\n      <footer class="footer">\n        <a href="https://rs.school/" class="footer-logo" target="_blank"></a>\n        <a href="https://github.com/andru12388" class="footer-git" target="_blank">Алисеев Андрей</a>\n        <p class="app-dev">2022</p>\n      </footer>\n      <div class="top" title="Up">\n        <i class="fa fa-angle-double-up"></i>\n      </div>\n      <div class="popup-sign-in">\n        <div class="form-close-btn"></div>\n        <form class="form-popap-registered">\n          <p class="form-title">Регистрация</p>\n          <div class="form-input-box">\n            <input class="input enter-name" type="text" name="nameUser" placeholder="Имя" required>\n            <input class="input enter-email" type="email" name="email" placeholder="E-mail" title="Минимально корректный e-mail (q@e.ru)" required>\n            <input class="input enter-password" type="password" name="password" placeholder="Пароль (от 8 до 12 символов)" minlength="8" maxlength="12" required>\n          </div>\n          <div class="message-error"></div>\n          <button class="button-form btn-reg" type="submit">Зарегистрироваться</button>\n          <div class="form-answer-box">\n            <p>У вас есть аккаунт?</p>\n            <a href="" class="link-to-signup">Войти</a>\n          </div>\n        </form>\n\n        <form class="form-popap-signup">\n          <p class="form-title">Вход</p>\n          <div class="form-input-box">\n            <input class="input enter-email" type="email" name="email" placeholder="E-mail" title="Минимально корректный e-mail (q@e.ru)" required>\n            <input class="input enter-password" type="password" name="password" placeholder="Пароль (от 8 до 12 символов)" minlength="8" maxlength="12" required>\n          </div>\n          <div class="message-error-signin"></div>\n          <button class="button-form btn-sign" type="submit">Войти</button>\n          <div class="form-answer-box">\n            <p>У вас нет аккаунта?</p>\n            <a href="" class="link-to-registered">Зарегистрироваться</a>\n          </div>\n        </form>\n      </div>\n      <div class="popup-about">\n        <div class="about-close-btn"></div>\n        <h2 class="popup-title">Оцените преимущества приложения</h2>\n        <div class="popap-block-card">\n          <div class="popup-about-card">\n            <div class="popap-card-img img-textbook"></div>\n            <h4 class="popap-title-card">Учебник</h4>\n            <p class="popap-description-card">Библиотека из 3600 часто встречающихся слов в повседневной жизни. Изучай в своем темпе!</p>\n          </div>\n          <div class="popup-about-card">\n            <div class="popap-card-img img-difficulty"></div>\n            <h4 class="popap-title-card">Сложные слова</h4>\n            <p class="popap-description-card">Для лучшего запонимания сложных слов отмечай их и повторяй отдельно. Создай свой персональный словарь для изучения слов!</p>\n          </div>\n          <div class="popup-about-card">\n            <div class="popap-card-img img-games"></div>\n            <h4 class="popap-title-card">Игры</h4>\n            <p class="popap-description-card">2 разные игры помогают учить без скуки с результатом. Аудиовызов - улучшает восприятие речи на слух. Спринт - учит быстро переводить слова.</p>\n          </div>\n          <div class="popup-about-card">\n            <div class="popap-card-img img-statistic"></div>\n            <h4 class="popap-title-card">Статистика</h4>\n            <p class="popap-description-card">Подробная статистика твоих достижений, изученных слов и ошибок. Ставь цели и вдохновляйся на новые достижения!</p>\n          </div>\n        </div>\n        <h2 class="popap-team">Разработчик</h2>\n        <figure class="my-foto">\n\t\t\t\t\t<img class="img-responsive" src="./assets/img/Avatar.jpg" alt="My photo">\n\t\t\t\t</figure>\n        <a href="https://github.com/andru12388" class="popap-git" target="_blank">Андрей</a>\n      </div>\n      <div class="popup-result-game active-hidden">\n        <h4>Результат <span class="result-game-sprint"></span></h4>\n        <div class="wrapper-result">\n          <div class="box-bad-answer">\n            <p class="wrong-result">Ошибок <span class="number-wrong"></span></p>\n            <div class="block-wrong"></div>\n          </div>\n          <div class="box-nice-answer">\n            <p class="correct-result">Знаю <span class="number-correct"></span></p>\n            <div class="block-correct"></div>\n          </div>\n        </div>\n        <div class="box-btn-repeat-exit">\n          <button class="button-repeat">Еще раз</button>\n          <button class="button-exit">Закончить игру</button>\n          <button class="button-repeat-from-textbook active-hidden">Еще раз</button>\n          <button class="button-exit-from-textbook active-hidden">Закончить игру</button>\n        </div>\n      </div>\n      <div class="popup-statistic">\n        <div class="statistic-close-btn"></div>\n        <h3 class="title-statistic">Краткосрочная статистика за сегодня</h3>\n        <div class="box-statistic game-sprint-statistic">\n          <h4 class="title-games-stat title-sprint-stat">Спринт</h4>\n          <ul>\n            <li>\n              <p class="text-statistic">Всего новых слов: <span class="total-sprint-words">0</span></p>\n            </li>\n            <li>\n              <p class="text-statistic">Процент правильных ответов: <span class="percent-answer-sprint">0%</span></p>\n            </li>\n            <li>\n              <p class="text-statistic">Самая длинная серия правильных ответов: <span class="long-series-sprint">0</span></p>\n            </li>\n          </ul>\n        </div>\n        <div class="box-statistic game-audio-statistic">\n          <h4 class="title-games-stat title-audio-stat">Аудиовызов</h4>\n          <ul>\n            <li>\n              <p class="text-statistic">Всего новых слов: <span class="total-audio-words">0</span></p>\n            </li>\n            <li>\n              <p class="text-statistic">Процент правильных ответов: <span class="percent-answer-audio">0%</span></p>\n            </li>\n            <li>\n              <p class="text-statistic">Самая длинная серия правильных ответов: <span class="long-series-audio">0</span></p>\n            </li>\n          </ul>\n        </div>\n        <div class="box-statistic all-words-statistic">\n          <h4 class="title-games-stat title-audio-stat">Статистика по словам</h4>\n          <ul>\n            <li>\n              <p class="text-statistic">Всего новых слов: <span class="total-new-words">0</span></p>\n            </li>\n            <li>\n              <p class="text-statistic">Изученных слов: <span class="learned-words-stat">0</span></p>\n            </li>\n            <li>\n              <p class="text-statistic">Процент правильных ответов: <span class="percent-correct-answer">0%</span></p>\n            </li>\n          </ul>\n        </div>\n      </div>\n    `,t=document.createElement("div");t.classList.add("wrapper"),t.innerHTML=e,document.body.appendChild(t)}}}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={exports:{}};return r[e](s,s.exports,c),s.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",s="function"==typeof Symbol?Symbol("webpack error"):"__webpack_error__",a=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},n=e=>!--e.r&&e(),i=(e,t)=>e?e.push(t):n(t),c.a=(r,o,c)=>{var d,l,u,p=c&&[],m=r.exports,g=!0,h=!1,w=(t,s,a)=>{h||(h=!0,s.r+=t.length,t.map(((t,n)=>t[e](s,a))),h=!1)},v=new Promise(((e,t)=>{u=t,l=()=>(e(m),a(p),p=0)}));v[t]=m,v[e]=(e,t)=>{if(g)return n(e);d&&w(d,e,t),i(p,e),v.catch(t)},r.exports=v,o((r=>{var o;d=(r=>r.map((r=>{if(null!==r&&"object"==typeof r){if(r[e])return r;if(r.then){var o=[];r.then((e=>{c[t]=e,a(o),o=0}),(e=>{c[s]=e,a(o),o=0}));var c={};return c[e]=(e,t)=>(i(o,e),r.catch(t)),c}}var d={};return d[e]=e=>n(e),d[t]=r,d})))(r);var c=()=>d.map((e=>{if(e[s])throw e[s];return e[t]})),l=new Promise(((e,t)=>{(o=()=>e(c)).r=0,w(d,o,t)}));return o.r?l:c()}),(e=>(e&&u(v[s]=e),l()))),g=!1},c.d=(e,t)=>{for(var s in t)c.o(t,s)&&!c.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),c(607)})();
//# sourceMappingURL=index.js.map